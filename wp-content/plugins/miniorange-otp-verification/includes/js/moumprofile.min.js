var button='<input class="um-button um-alt um-col-alt" id="mo_um_accup_button" type="button" onClick="sendOTP()" value="'+moumacvar.buttonText+'" ></input>',img="<img src='"+moumacvar.imgURL+"'>",html=button+"<div id='mo_message' hidden='' style='background-color: #f7f6f7;padding: 1em 2em 1em 3.5em;'>"+img+"</div>",otp_field=html+'<div   class="um-field um-field-text um-field-type_text um-acc-otp" data-key="'+moumacvar.formKey+'"><div class="um-field-label"><label for="verify_field">Enter OTP here</label><div class="um-clear"></div></div><div class="um-field-area"><input autocomplete="off" class="um-form-field valid " type="text" name="'+moumacvar.formKey+'" id="verify_field" placeholder="" data-validate="" data-key="'+moumacvar.formKey+'"></div></div>';function sendOTP(){var e=$mo(".um-account [id^=user_email]").val(),m=$mo(".um-profile [id^="+moumacvar.phoneKey+"]").val();$mo("#mo_message").empty(),$mo("#mo_message").append(img),$mo("#mo_message").show();var o=$mo(".um-account").length?moumacvar.emailOtpType:$mo(".um-profile").length?moumacvar.phoneOtpType:"none";$mo.ajax({url:moumacvar.siteURL+"/?option=miniorange-um-acc-ajax-verify",type:"POST",data:{user_email:e,user_phone:m,security:moumacvar.nonce,otp_request_type:o},crossDomain:!0,dataType:"json",success:function(e){"success"==e.result?($mo("#mo_message").empty(),$mo("#mo_message").append(e.message),$mo("#mo_message").css("border-top","3px solid green")):($mo("#mo_message").empty(),$mo("#mo_message").append(e.message),$mo("#mo_message").css("border-top","3px solid red"))},error:function(e){$mo("#mo_message").empty(),$mo("#mo_message").append(e.message),$mo("#mo_message").css("border-top","3px solid red")}})}function insertOTPField(){moumacvar.otpType!==moumacvar.emailOtpType&&moumacvar.otpType!==moumacvar.bothOTPType||$mo(".um-account [id^=user_email]").val()!==moumacvar.emailValue&&$mo(otp_field).insertAfter($mo(".um-account [id^=user_email]").parent().parent()),moumacvar.otpType!==moumacvar.phoneOtpType&&moumacvar.otpType!==moumacvar.bothOTPType||$mo(".um-profile [id^="+moumacvar.phoneKey+"]").val()!==moumacvar.phoneValue&&$mo(otp_field).insertAfter($mo(".um-profile [id^="+moumacvar.phoneKey+"]").parent().parent())}function removeOTPField(){$mo("#mo_um_accup_button").remove(),$mo(".um-acc-otp").remove(),$mo("#mo_message").remove()}function focusChecks(){$mo(".um-account [id^=user_email],.um-profile [id^="+moumacvar.phoneKey+"]").on("change paste keyup",(function(){$mo(this).val()===moumacvar.phoneValue||$mo(this).val()===moumacvar.emailValue?removeOTPField():0==$mo(".um-acc-otp").length&&insertOTPField()}))}jQuery(document).ready((function(){$mo=jQuery,focusChecks(),$mo(this).val()===moumacvar.phoneValue||$mo(this).val()===moumacvar.emailValue?removeOTPField():0==$mo(".um-acc-otp").length&&($mo(".um-profile [id^="+moumacvar.phoneKey+"]").length>0||$mo('input[name="user_email"]').length>0)&&insertOTPField()}));